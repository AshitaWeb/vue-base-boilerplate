webpackJsonp([1],{"/GW+":function(t,a){},"6Gv3":function(t,a){},NHnr:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});e("toXb"),e("UVIz"),e("K3J8"),e("/GW+");var s=e("7+uW"),r=e("NYxO"),n=e("+Y1O"),i=e.n(n);s.a.use(r.a);var o={isLogged:!!i()("token")},l=new r.a.Store({strict:!1,state:o,mutations:{LOGIN_USER:function(t){t.isLogged=!0},LOGOUT_USER:function(t){t.isLogged=!1}}}),c={name:"app-nav",methods:{logout:function(){this.$router.go("/logout")}},computed:{isLogged:function(){return l.state.isLogged}}},m={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("nav",{directives:[{name:"show",rawName:"v-show",value:t.isLogged,expression:"isLogged"}],staticClass:"navbar navbar-expand-lg navbar-dark bg-dark"},[e("router-link",{staticClass:"navbar-brand",attrs:{to:"/"}},[t._v("VUE BASE")]),t._v(" "),t._m(0),t._v(" "),e("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarSupportedContent"}},[e("ul",{staticClass:"navbar-nav mr-auto"},[e("router-link",{staticClass:"nav-item",attrs:{tag:"li",to:"/"}},[e("a",{staticClass:"nav-link"},[t._v("Home")])]),t._v(" "),e("router-link",{staticClass:"nav-item",attrs:{tag:"li",to:"/anime"}},[e("a",{staticClass:"nav-link"},[t._v("Animes")])])],1),t._v(" "),e("ul",{staticClass:"navbar-nav my-2 my-md-0 mr-md-3 "},[e("li",{staticClass:"nav-item"},[e("router-link",{staticClass:"nav-link",attrs:{to:"/logout"}},[t._v("Logout")])],1)])])],1)},staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"}},[a("span",{staticClass:"navbar-toggler-icon"})])}]},u={name:"App",components:{AppNav:e("VU/8")(c,m,!1,null,null,null).exports},beforeCreate:function(){l.state.isLogged||this.$router.push("/login")}},v={render:function(){var t=this.$createElement,a=this._self._c||t;return a("div",[a("app-nav"),this._v(" "),a("div",{staticClass:"container",attrs:{id:"app"}},[a("router-view")],1)],1)},staticRenderFns:[]};var d=e("VU/8")(u,v,!1,function(t){e("6Gv3")},null,null).exports,p=e("/ocq"),h={render:function(){var t=this.$createElement,a=this._self._c||t;return a("div",[a("div",{staticClass:"row"},[a("nav",{attrs:{"aria-label":"breadcrumb"}},[a("ol",{staticClass:"breadcrumb"},[a("router-link",{staticClass:"breadcrumb-item",attrs:{tag:"li",to:"/"}},[a("a",[this._v("Home")])])],1)])]),this._v(" "),this._m(0)])},staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("div",{staticClass:"jumbotron"},[this._v("\n        Welcome to VUEBASE Dashboard with authentication in JWT.\n        \n        "),a("p",[this._v("WIP - This is a study case")])]),this._v(" "),a("p",{staticClass:"text-center"},[a("a",{attrs:{href:"https://rubensfernandes.mit-license.org/"}},[this._v("MIT License")]),this._v(" © Rubens Fernandes")])])])}]},f=e("VU/8")({name:"Dashboard"},h,!1,null,null,null).exports,_={name:"login",data:function(){return{infoError:!1,form:{login:"",password:""}}},beforeCreate:function(){l.state.isLogged&&this.$router.push("/")},methods:{logar:function(){var t=this;this.infoError=!1,this.$http.post("login",this.form).then(function(a){a.data.success?(i()("token",a.data.token),l.commit("LOGIN_USER"),t.$router.push("/")):t.infoError=!0})}}},g={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("form",{staticClass:"form-signin",on:{submit:function(a){a.preventDefault(),t.logar(a)}}},[e("h2",{staticClass:"form-signin-heading"},[t._v("Login")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.login,expression:"form.login"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Login",required:"",autofocus:""},domProps:{value:t.form.login},on:{input:function(a){a.target.composing||t.$set(t.form,"login",a.target.value)}}}),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.password,expression:"form.password"}],staticClass:"form-control",attrs:{type:"password",placeholder:"Password",required:""},domProps:{value:t.form.password},on:{input:function(a){a.target.composing||t.$set(t.form,"password",a.target.value)}}}),t._v(" "),e("button",{staticClass:"btn btn-lg btn-primary btn-block",attrs:{type:"submit"}},[t._v("Login")]),t._v(" "),t.infoError?e("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[t._m(0),t._v(" "),e("strong",[t._v("Erro!")]),t._v(" Wrong user or password.\n  ")]):t._e()])},staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"alert","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[this._v("×")]),this._v(" "),a("span",{staticClass:"sr-only"},[this._v("Close")])])}]};var b=e("VU/8")(_,g,!1,function(t){e("ni4J")},null,null).exports,C={name:"logout",mounted:function(){localStorage.removeItem("token"),l.commit("LOGOUT_USER"),this.$router.push("login")}},w={render:function(){var t=this.$createElement;return(this._self._c||t)("div",[this._v("\n  logout...\n")])},staticRenderFns:[]},E=e("VU/8")(C,w,!1,null,null,null).exports,$={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("div",{staticClass:"row"},[e("nav",{attrs:{"aria-label":"breadcrumb"}},[e("ol",{staticClass:"breadcrumb"},[e("router-link",{staticClass:"breadcrumb-item",attrs:{tag:"li",to:"/"}},[e("a",[t._v("Home")])]),t._v(" "),e("router-link",{staticClass:"breadcrumb-item",attrs:{tag:"li",to:"/anime"}},[e("a",[t._v("Animes")])]),t._v(" "),e("li",{staticClass:"breadcrumb-item active"},[t._v("New Anime")])],1)])]),t._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"col"},[e("form",{on:{submit:function(a){a.preventDefault(),t.save(a)}}},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"name"}},[t._v("Name")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.name,expression:"form.name"}],staticClass:"form-control",attrs:{type:"text",id:"name",placeholder:"Name"},domProps:{value:t.form.name},on:{input:function(a){a.target.composing||t.$set(t.form,"name",a.target.value)}}})]),t._v(" "),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"image"}},[t._v("URL image")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.image,expression:"form.image"}],staticClass:"form-control",attrs:{type:"text",id:"image",placeholder:"Url image"},domProps:{value:t.form.image},on:{input:function(a){a.target.composing||t.$set(t.form,"image",a.target.value)}}}),t._v(" "),e("hr"),t._v(" "),e("img",{staticClass:"rounded-circle img",attrs:{src:t.form.image,alt:t.form.name}})]),t._v(" "),e("div",{staticClass:"form-group"},[e("button",{staticClass:"btn btn-primary"},[t._v("Save")]),t._v(" "),e("router-link",{staticClass:"btn btn-danger",attrs:{to:"/anime"}},[t._v("Cancel")])],1),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.hasSuccess,expression:"hasSuccess"}],staticClass:"alert alert-success alert-dismissible",attrs:{role:"alert"}},[t._m(0),t._v("\n          New anime created!\n        ")]),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.hasError,expression:"hasError"}],staticClass:"alert alert-danger alert-dismissible",attrs:{role:"alert"}},[t._m(1),t._v("\n          Error, try again.\n        ")])])])])])},staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"alert","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[this._v("×")]),this._v(" "),a("span",{staticClass:"sr-only"},[this._v("Close")])])},function(){var t=this.$createElement,a=this._self._c||t;return a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"alert","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[this._v("×")]),this._v(" "),a("span",{staticClass:"sr-only"},[this._v("Close")])])}]},k=e("VU/8")({name:"AnimeNew",data:function(){return{hasSuccess:!1,hasError:!1,form:{name:"",image:""}}},methods:{save:function(){var t=this;this.$http.post("v1/anime",this.form).then(function(a){a.data.success?(t.hasSuccess=!0,t.$router.push("/anime")):t.hasError=!0})}}},$,!1,null,null,null).exports,y={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("div",{staticClass:"row"},[e("nav",{attrs:{"aria-label":"breadcrumb"}},[e("ol",{staticClass:"breadcrumb"},[e("router-link",{staticClass:"breadcrumb-item",attrs:{tag:"li",to:"/"}},[e("a",[t._v("Home")])]),t._v(" "),e("li",{staticClass:"breadcrumb-item active"},[t._v("Anime")])],1)])]),t._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"col"},[e("router-link",{staticClass:"btn btn-success",attrs:{to:"/anime/new",role:"button"}},[e("span",{staticClass:"oi oi-plus"})]),t._v(" "),e("hr")],1)]),t._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"col"},[e("table",{staticClass:"table table-sm"},[t._m(0),t._v(" "),e("tbody",t._l(t.data,function(a){return e("tr",{key:a._id},[e("td",{attrs:{scope:"row"}},[t._v(t._s(a.name))]),t._v(" "),e("td",[e("img",{staticClass:"rounded-circle img",attrs:{src:a.image,alt:a.name}})]),t._v(" "),e("td",[e("router-link",{staticClass:"btn btn-sm",attrs:{tag:"button",title:"Edit",to:{name:"AnimeEdit",params:{id:a._id}}}},[e("span",{staticClass:"oi oi-pencil"})]),t._v(" "),e("button",{staticClass:"btn btn-sm btn-danger",attrs:{title:"Remove"},on:{click:function(e){t.remove(a._id)}}},[e("span",{staticClass:"oi oi-x"})])],1)])}))])])])])},staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("thead",{staticClass:"thead-dark"},[a("tr",[a("th",{attrs:{scope:"col"}},[this._v("Name")]),this._v(" "),a("th",{attrs:{scope:"col"}},[this._v("Image")]),this._v(" "),a("th",{attrs:{scope:"col"}})])])}]};var x=e("VU/8")({name:"Anime",data:function(){return{data:[]}},methods:{remove:function(t){var a=this;this.$http.delete("/v1/anime/"+t).then(function(){a.$http.get("/v1/anime").then(function(t){a.data=t.data.data})})}},beforeMount:function(){var t=this;this.$http.get("/v1/anime").then(function(a){t.data=a.data.data})}},y,!1,function(t){e("jqGf")},null,null).exports,N={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("div",{staticClass:"row"},[e("nav",{attrs:{"aria-label":"breadcrumb"}},[e("ol",{staticClass:"breadcrumb"},[e("router-link",{staticClass:"breadcrumb-item",attrs:{tag:"li",to:"/"}},[e("a",[t._v("Home")])]),t._v(" "),e("router-link",{staticClass:"breadcrumb-item",attrs:{tag:"li",to:"/anime"}},[e("a",[t._v("Animes")])]),t._v(" "),e("li",{staticClass:"breadcrumb-item active"},[t._v("Edit Anime")])],1)])]),t._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"col"},[e("form",{on:{submit:function(a){a.preventDefault(),t.save(a)}}},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"name"}},[t._v("Name")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.name,expression:"form.name"}],staticClass:"form-control",attrs:{type:"text",id:"name",placeholder:"Name"},domProps:{value:t.form.name},on:{input:function(a){a.target.composing||t.$set(t.form,"name",a.target.value)}}})]),t._v(" "),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"image"}},[t._v("URL image")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.image,expression:"form.image"}],staticClass:"form-control",attrs:{type:"text",id:"image",placeholder:"Url image"},domProps:{value:t.form.image},on:{input:function(a){a.target.composing||t.$set(t.form,"image",a.target.value)}}}),t._v(" "),e("hr"),t._v(" "),e("img",{staticClass:"rounded-circle img",attrs:{src:t.form.image,alt:t.form.name}})]),t._v(" "),e("div",{staticClass:"form-group"},[e("button",{staticClass:"btn btn-primary",attrs:{disabled:!t.form._id}},[t._v("Update")]),t._v(" "),e("router-link",{staticClass:"btn btn-danger",attrs:{to:"/anime"}},[t._v("Cancel")])],1),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.hasSuccess,expression:"hasSuccess"}],staticClass:"alert alert-success alert-dismissible",attrs:{role:"alert"}},[t._m(0),t._v("\n          Anime updated!\n        ")]),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.hasError,expression:"hasError"}],staticClass:"alert alert-danger alert-dismissible",attrs:{role:"alert"}},[t._m(1),t._v("\n          Error, try again.\n        ")])])])])])},staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"alert","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[this._v("×")]),this._v(" "),a("span",{staticClass:"sr-only"},[this._v("Close")])])},function(){var t=this.$createElement,a=this._self._c||t;return a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"alert","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[this._v("×")]),this._v(" "),a("span",{staticClass:"sr-only"},[this._v("Close")])])}]},U=e("VU/8")({name:"AnimeEdit",data:function(){return{hasSuccess:!1,hasError:!1,form:{name:"",image:"",_id:""}}},methods:{save:function(){var t=this;this.$http.put("v1/anime",this.form).then(function(a){a.data.success?(t.hasSuccess=!0,t.$router.push("/anime")):t.hasError=!0})}},beforeMount:function(){var t=this;this.$http.get("/v1/anime/"+this.$route.params.id).then(function(a){a.data&&(t.form=a.data)})}},N,!1,null,null,null).exports;s.a.use(p.a);var L=new p.a({mode:"history",base:"/",linkExactActiveClass:"active",routes:[{path:"/",name:"Dashboard",component:f},{path:"/anime",name:"AnimeHome",component:x},{path:"/anime/new",name:"AnimeNew",component:k},{path:"/anime/edit/:id",name:"AnimeEdit",component:U},{path:"/login",name:"Login",component:b},{path:"/logout",name:"Logout",component:E}]}),A=e("//Fk"),S=e.n(A),R=e("mtWM"),V=e.n(R),F=e("Y81h"),G=e.n(F);G.a.configure({showSpinner:!1}),V.a.defaults.baseURL="http://vuebase.rubens.ninja/api",V.a.interceptors.request.use(function(t){return t.headers.Authorization=""+i()("token"),G.a.start(),t}),V.a.interceptors.response.use(function(t){return t.data.login&&L.push("/logout"),G.a.done(),t},function(t){return G.a.done(),S.a.reject(t)});var O={post:function(t,a){return V.a.post(t,a)},put:function(t,a){return V.a.put(t,a)},get:function(t){return V.a.get(t)},delete:function(t,a){return V.a.delete(t,a)}};s.a.prototype.$http=O,s.a.config.productionTip=!1,new s.a({el:"#app",router:L,components:{App:d},template:"<App/>"})},UVIz:function(t,a){},jqGf:function(t,a){},ni4J:function(t,a){},toXb:function(t,a){}},["NHnr"]);
//# sourceMappingURL=app.7a922e9bb137a3992ce5.js.map